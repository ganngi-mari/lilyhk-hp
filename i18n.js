// 多言語対応の翻訳データ
const translations = {
    "zh-hant": {
        loading: "加載中...",
        welcome: "歡迎來到我的個人空間",
        introduction: "我是陳麗華（Lily Chen），來自遼寧省丹東市，目前居住在香港荔枝角。",
        poem: "國破山河在、城春草木深。",
        about: "關於我",
        name_en: "Lily Chen Lai Wah", // 英語表記を残す
        description: "Misskist & Fedizen.<br>請來香港旅遊。沙田和青衣的酒店很便宜。",
        roles: "我的角色與職務",
        role_1: "Ochaskey Moderator",
        role_2: "Etonern Administrator",
        role_3: "Nekomiya.net Dev",
        role_4: "RuMisukiy VP",
        role_5: "Reliwave P.S. Member",
        recommendations: "推薦",
        recommendation_singer: "歌手：<a href='https://www.youtube.com/watch?v=PpVNdL9Wz_M' target='_blank' rel='noopener noreferrer'>葉麗儀 Frances Yip</a><br>喜歡的地區：彩虹邨 Choi Hung Estate",
        contact: "聯繫方式",
        contact_misskey: "Misskey: <a href='https://ussr.rumiserver.com/@pochta_rossii' target='_blank' rel='noopener noreferrer'>@pochta_rossii@ussr.rumiserver.com</a><br>Gotosocial: <a href='https://sevenstar.etnfed.ru/@lily_hk' target='_blank' rel='noopener noreferrer'>@lily_hk@sevenstar.etnfed.ru</a><br>Email: <a href='mailto:lily.hkmilktea@etnfed.ru' target='_blank' rel='noopener noreferrer'>lily.hkmilktea@etnfed.ru</a>",
        banner: "Banner",
        banner_description: "請保存並使用此橫幅。鏈接指向：<a href='http://lilyhk.y.ribbon.to' target='_blank' rel='noopener noreferrer'>http://lilyhk.y.ribbon.to</a>。",
        exchange: "互聯",
        tools: "這個網站是使用<a href='https://tongyi.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>通義</a>、<a href='https://deepseek.com' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Deepseek</a>和<a href='https://felo.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Felo</a>製作的。",
        copyright: "© 2025 陳麗華 (Lily Chen) 版权所有"
    },
    "zh-hans": {
        loading: "加载中...",
        welcome: "欢迎来到我的个人空间",
        introduction: "我是陈丽华（Lily Chen），来自辽宁省丹东市，目前居住在香港荔枝角。",
        poem: "国破山河在、城春草木深。",
        about: "关于我",
        name_en: "Lily Chen Lai Wah", // 英語表記を残す
        description: "Misskist & Fedizen。<br>请来香港旅游。沙田和青衣的酒店很便宜。",
        roles: "我的角色与职务",
        role_1: "Ochaskey Moderator",
        role_2: "Etonern Administrator",
        role_3: "Nekomiya.net Dev",
        role_4: "RuMisukiy VP",
        role_5: "Reliwave P.S. Member",
        recommendations: "推荐",
        recommendation_singer: "歌手：<a href='https://www.youtube.com/watch?v=PpVNdL9Wz_M' target='_blank' rel='noopener noreferrer'>叶丽仪 Frances Yip</a><br>喜欢的地区：彩虹邨 Choi Hung Estate",
        contact: "联系方式",
        contact_misskey: "Misskey: <a href='https://ussr.rumiserver.com/@pochta_rossii' target='_blank' rel='noopener noreferrer'>@pochta_rossii@ussr.rumiserver.com</a><br>Gotosocial: <a href='https://sevenstar.etnfed.ru/@lily_hk' target='_blank' rel='noopener noreferrer'>@lily_hk@sevenstar.etnfed.ru</a><br>Email: <a href='mailto:lily.hkmilktea@etnfed.ru' target='_blank' rel='noopener noreferrer'>lily.hkmilktea@etnfed.ru</a>",
        banner: "横幅",
        banner_description: "请保存并使用此横幅。链接指向：<a href='http://lilyhk.y.ribbon.to' target='_blank' rel='noopener noreferrer'>http://lilyhk.y.ribbon.to</a>。",
        exchange: "互联",
        tools: "这个网站是使用<a href='https://tongyi.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>通义</a>、<a href='https://deepseek.com' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Deepseek</a>和<a href='https://felo.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Felo</a>制作的。",
        copyright: "© 2025 陈丽华 (Lily Chen) 版权所有"
    },
    "ja": {
        loading: "読み込み中...",
        welcome: "私の個人スペースへようこそ",
        introduction: "私は陳麗華（リリー・チェン）です。遼寧省丹東市出身で、現在は香港荔枝角に住んでいます。",
        poem: "国破れて山河あり、城春にして草木深し。",
        about: "私について",
        name_en: "Lily Chen Lai Wah", // 英語表記を残す
        description: "Misskist & Fedizen。<br>香港に旅行に来てください。沙田や青衣のホテルはとても安いです。",
        roles: "私の役割と職務",
        role_1: "Ochaskey モデレーター",
        role_2: "Etonern 管理者",
        role_3: "Nekomiya.net 開発者",
        role_4: "RuMisukiy 副社長",
        role_5: "Reliwave P.S. メンバー",
        recommendations: "おすすめ",
        recommendation_singer: "歌手：<a href='https://www.youtube.com/watch?v=PpVNdL9Wz_M' target='_blank' rel='noopener noreferrer'>葉麗儀 Frances Yip</a><br>好きなエリア：彩虹邨 Choi Hung Estate",
        contact: "連絡先",
        contact_misskey: "Misskey: <a href='https://ussr.rumiserver.com/@pochta_rossii' target='_blank' rel='noopener noreferrer'>@pochta_rossii@ussr.rumiserver.com</a><br>Gotosocial: <a href='https://sevenstar.etnfed.ru/@lily_hk' target='_blank' rel='noopener noreferrer'>@lily_hk@sevenstar.etnfed.ru</a><br>Email: <a href='mailto:lily.hkmilktea@etnfed.ru' target='_blank' rel='noopener noreferrer'>lily.hkmilktea@etnfed.ru</a>",
        banner: "バナー",
        banner_description: "このバナーを保存して使用してください。リンク先：<a href='http://lilyhk.y.ribbon.to' target='_blank' rel='noopener noreferrer'>http://lilyhk.y.ribbon.to</a>。",
        exchange: "相互リンク",
        tools: "このサイトは<a href='https://tongyi.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>通義</a>、<a href='https://deepseek.com' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Deepseek</a>、<a href='https://felo.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Felo</a>を使用して作成されました。",
        copyright: "© 2025 陳麗華 (Lily Chen) All rights reserved."
    },
    "en": {
        loading: "Loading...",
        welcome: "Welcome to my personal space",
        introduction: "I am Lily Chen from Dandong City, Liaoning Province, currently living in Cheung Sha Wan, Hong Kong.",
        poem: "Though the state is destroyed, mountains and rivers remain; In spring, the city is deep with grass and trees.",
        about: "About Me",
        name_en: "Lily Chen Lai Wah", // 英語表記を残す
        description: "Misskist & Fedizen.<br>Come visit Hong Kong. Hotels in Shatin and Tsing Yi are very affordable.",
        roles: "My Roles and Duties",
        role_1: "Ochaskey Moderator",
        role_2: "Etonern Administrator",
        role_3: "Nekomiya.net Developer",
        role_4: "RuMisukiy Vice President",
        role_5: "Reliwave P.S. Member",
        recommendations: "Recommendations",
        recommendation_singer: "Singer: <a href='https://www.youtube.com/watch?v=PpVNdL9Wz_M' target='_blank' rel='noopener noreferrer'>Frances Yip</a><br>Favourite Area: Choi Hung Estate",
        contact: "Contact Information",
        contact_misskey: "Misskey: <a href='https://ussr.rumiserver.com/@pochta_rossii' target='_blank' rel='noopener noreferrer'>@pochta_rossii@ussr.rumiserver.com</a><br>Gotosocial: <a href='https://sevenstar.etnfed.ru/@lily_hk' target='_blank' rel='noopener noreferrer'>@lily_hk@sevenstar.etnfed.ru</a><br>Email: <a href='mailto:lily.hkmilktea@etnfed.ru' target='_blank' rel='noopener noreferrer'>lily.hkmilktea@etnfed.ru</a>",
        banner: "Banner",
        banner_description: "Please save and use this banner. Link: <a href='http://lilyhk.y.ribbon.to' target='_blank' rel='noopener noreferrer'>http://lilyhk.y.ribbon.to</a>.",
        exchange: "Interlink",
        tools: "This website was made using <a href='https://tongyi.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Tongyi</a>, <a href='https://deepseek.com' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Deepseek</a>, and <a href='https://felo.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Felo</a>.",
        copyright: "© 2025 Lily Chen. All rights reserved."
    },
    "ru": {
        loading: "Загрузка...",
        welcome: "Добро пожаловать в моё личное пространство",
        introduction: "Я Ли Чэнь из города Даньдун провинции Ляонин, сейчас живу в Чунг Ша Ване, Гонконг.",
        poem: "Хотя государство разрушено, горы и реки остаются; Весной город полон травы и деревьев.",
        about: "Обо мне",
        name_en: "Лили Чэнь Лай Ва", // 英語表記を残す
        description: "Misskist & Fedizen.<br>Приезжайте в Гонконг. Отели в районах Шатин и Цин И очень доступны.",
        roles: "Мои роли и обязанности",
        role_1: "Модератор Ochaskey",
        role_2: "Администратор Etonern",
        role_3: "Разработчик Nekomiya.net",
        role_4: "Вице-президент RuMisukiy",
        role_5: "Член Reliwave P.S.",
        recommendations: "Рекомендации",
        recommendation_singer: "Певица: <a href='https://www.youtube.com/watch?v=PpVNdL9Wz_M' target='_blank' rel='noopener noreferrer'>Фрэнсис Ип</a><br>Любимый район: Чой Ханг Эстейт",
        contact: "Контакты",
        contact_misskey: "Misskey: <a href='https://ussr.rumiserver.com/@pochta_rossii' target='_blank' rel='noopener noreferrer'>@pochta_rossii@ussr.rumiserver.com</a><br>Gotosocial: <a href='https://sevenstar.etnfed.ru/@lily_hk' target='_blank' rel='noopener noreferrer'>@lily_hk@sevenstar.etnfed.ru</a><br>Email: <a href='mailto:lily.hkmilktea@etnfed.ru' target='_blank' rel='noopener noreferrer'>lily.hkmilktea@etnfed.ru</a>",
        banner: "Баннер",
        banner_description: "Сохраните и используйте этот баннер. Ссылка: <a href='http://lilyhk.y.ribbon.to' target='_blank' rel='noopener noreferrer'>http://lilyhk.y.ribbon.to</a>.",
        exchange: "Интерлинк",
        tools: "Этот сайт был создан с использованием <a href='https://tongyi.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Tongyi</a>, <a href='https://deepseek.com' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Deepseek</a> и <a href='https://felo.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Felo</a>.",
        copyright: "© 2025 Ли Чэнь. Все права защищены."
    },
    "kk": {
        loading: "Жүктелуде...",
        welcome: "Жеке кеңістігіме қош келдіңіз",
        introduction: "Мен Лили Чен, Ляонин облысы Дандун қаласынан, қазіргі уақытта Гонконгда тұрамын.",
        poem: "Мемлекет бұзылғанмен, таулар мен өзендер қалады; Көктемде қала шөптермен және ағаштармен тулады.",
        about: "Мен туралы",
        name_en: "Лили Чен Лай Ва", // 英語表記を残す
        description: "Misskist & Fedizen.<br>Гонконгқа келіңіз. Шатин мен Цинг И қалаларындағы қонақүйлер арзан.",
        roles: "Менің рөлдерім мен міндеттерім",
        role_1: "Ochaskey модераторы",
        role_2: "Etonern администраторы",
        role_3: "Nekomiya.net дамушысы",
        role_4: "RuMisukiy орынбасар президенті",
        role_5: "Reliwave P.S. мүшесі",
        recommendations: "Ұсынымдар",
        recommendation_singer: "Әнші: <a href='https://www.youtube.com/watch?v=PpVNdL9Wz_M' target='_blank' rel='noopener noreferrer'>Фрэнсис Ип</a><br>Ұнататын аймағым: Чой Ханг Эстейт",
        contact: "Байланыс ақпараты",
        contact_misskey: "Misskey: <a href='https://ussr.rumiserver.com/@pochta_rossii' target='_blank' rel='noopener noreferrer'>@pochta_rossii@ussr.rumiserver.com</a><br>Gotosocial: <a href='https://sevenstar.etnfed.ru/@lily_hk' target='_blank' rel='noopener noreferrer'>@lily_hk@sevenstar.etnfed.ru</a><br>Email: <a href='mailto:lily.hkmilktea@etnfed.ru' target='_blank' rel='noopener noreferrer'>lily.hkmilktea@etnfed.ru</a>",
        banner: "Баннер",
        banner_description: "Бұл баннерді сақтап, пайдаланыңыз. Сілтеме: <a href='http://lilyhk.y.ribbon.to' target='_blank' rel='noopener noreferrer'>http://lilyhk.y.ribbon.to</a>.",
        exchange: "Өзара байланыс",
        tools: "Бұл сайт <a href='https://tongyi.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Tongyi</a>, <a href='https://deepseek.com' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Deepseek</a> және <a href='https://felo.ai' target='_blank' rel='noopener noreferrer' class='tool-link highlight-tool'>Felo</a> арқылы жасалды.",
        copyright: "© 2025 Лили Чен. Барлық құқықтар қорғалған."
    }
};

// 言語切り替え関数
function changeLanguage(lang) {
    const elements = document.querySelectorAll("[data-i18n]");
    elements.forEach(element => {
        const key = element.getAttribute("data-i18n");
        element.innerHTML = translations[lang][key] || translations["zh-hant"][key];
    });
    localStorage.setItem("preferredLanguage", lang);
}

// URLのクエリパラメータから言語を取得
function getLanguageFromURL() {
    const params = new URLSearchParams(window.location.search);
    let lang = params.get("lang");

    // 'zh' が指定された場合、'zh-hant' を優先
    if (lang === "zh") {
        lang = "zh-hant";
    }

    // サポートされている言語か確認
    const supportedLanguages = Object.keys(translations);
    if (supportedLanguages.includes(lang)) {
        return lang;
    }

    // デフォルト言語（繁体字中国語）
    return "zh-hant";
}

// 初期化時に保存された言語設定またはURLのクエリパラメータを適用
document.addEventListener("DOMContentLoaded", () => {
    const savedLanguage = localStorage.getItem("preferredLanguage");
    const urlLanguage = getLanguageFromURL();

    // URLのクエリパラメータを優先
    const lang = urlLanguage || savedLanguage || "zh-hant";
    changeLanguage(lang);
});